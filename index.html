<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BBCode Post Gen Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @keyframes fadeIn {
            0% { opacity: 0; transform: translateY(-10px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 1s ease-out;
        }
        
        .code-block {
            background-color: #1e293b;
            color: #e2e8f0;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-break: break-all;
            border-radius: 0.375rem;
            border: 1px solid #475569;
        }
        
        .dark .code-block {
            background-color: #0f172a;
            border-color: #334155;
        }
        
        .light-mode-code {
            background-color: #f1f5f9;
            color: #334155;
            border-color: #cbd5e1;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .slider {
            -webkit-appearance: none;
            appearance: none;
            height: 8px;
            border-radius: 4px;
            background: #d1d5db;
            outline: none;
        }
        
        .dark .slider {
            background: #4b5563;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #0ea5e9;
            cursor: pointer;
        }
        
        .slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #0ea5e9;
            cursor: pointer;
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 48px;
            height: 24px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .toggle-slider {
            background-color: #0ea5e9;
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(24px);
        }
        
        .option-description {
            font-size: 0.75rem;
            color: #6b7280;
            margin-top: 0.25rem;
            font-style: italic;
        }
        
        .dark .option-description {
            color: #9ca3af;
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 transition-colors duration-200">
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <div class="flex justify-between items-center mb-8">
            <h1 id="mainTitle" class="text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent fade-in">BBCode Post Gen Pro</h1>
            <div class="flex items-center space-x-4">
                <div class="flex items-center space-x-2">
                    <span class="text-sm">Theme:</span>
                    <select id="themeSelect" class="bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md px-2 py-1 text-sm">
                        <option value="system">System Default</option>
                        <option value="light">Light</option>
                        <option value="dark">Dark</option>
                    </select>
                </div>
                <button id="proVersionBtn" class="px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-md hover:from-purple-700 hover:to-indigo-700 transition-colors">
                    <i class="fas fa-crown text-yellow-300 mr-2"></i>Pro Version
                </button>
            </div>
        </div>
        
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden mb-8">
            <div class="flex border-b border-gray-200 dark:border-gray-700">
                <button class="tab-btn px-6 py-3 font-medium text-primary-600 dark:text-primary-400 border-b-2 border-primary-500" data-tab="editor">
                    <i class="fas fa-edit mr-2"></i>Editor
                </button>
                <button class="tab-btn px-6 py-3 font-medium text-gray-500 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400" data-tab="bbcode">
                    <i class="fas fa-code mr-2"></i>BBCode
                </button>
            </div>
            
            <div class="tab-content active p-6" id="editor-tab">
                <!-- Global Options Section - Fixed structure -->
                <div class="mb-8 p-6 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600">
                    <h2 class="text-xl font-semibold mb-4 flex items-center">
                        <i class="fas fa-cog text-primary-500 mr-2"></i>Global Options
                    </h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-4">
                        <div>
                            <div class="flex items-center justify-between">
                                <label class="text-sm font-medium">Use Default Logo</label>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="useDefaultLogo" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <p class="option-description">Use the default logo instead of a custom URL</p>
                        </div>
                        
                        <div>
                            <div class="flex items-center justify-between">
                                <label class="text-sm font-medium">Use Spoiler Tags</label>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="useSpoilerTags">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <p class="option-description">Wrap code blocks in spoiler tags</p>
                        </div>
                        
                        <div>
                            <div class="flex items-center justify-between">
                                <label class="text-sm font-medium">Center All Content</label>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="centerAllContent">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <p class="option-description">Center everything including code blocks</p>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div>
                            <div class="flex items-center justify-between">
                                <label class="text-sm font-medium">Center Only Header</label>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="centerOnlyHeader" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <p class="option-description">Center only section titles, not code blocks</p>
                        </div>
                        
                        <div>
                            <div class="flex items-center justify-between">
                                <label class="text-sm font-medium">Show Extra Title</label>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="showExtraTitle">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <p class="option-description">Add an additional title and description section</p>
                        </div>
                        
                        <div>
                            <div class="flex items-center justify-between">
                                <label class="text-sm font-medium">Show Custom Sections</label>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="showCustomSections">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <p class="option-description">Add your own custom sections with titles</p>
                        </div>
                        <div>
                            <div class="flex items-center justify-between">
                                <label class="text-sm font-medium">Show Separator Lines</label>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="showSeparatorLines">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <p class="option-description">Show separator lines between sections</p>
                        </div>
                        
                        <div>
                            <div class="flex items-center justify-between">
                                <label class="text-sm font-medium">Multi Heading Color Mode</label>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="multiColorHeading" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <p class="option-description">Use unique colors for each section heading</p>
                        </div>
						
						<div>
							<div class="flex items-center justify-between">
								<label class="text-sm font-medium">Center Headings & Separators</label>
								<label class="toggle-switch">
									<input type="checkbox" id="centerHeadingsSeparators" checked>
									<span class="toggle-slider"></span>
								</label>
							</div>
							<p class="option-description">Center section titles and divider lines</p>
						</div>
						
						<div>
							<div class="flex items-center justify-between">
								<label class="text-sm font-medium">Show Screenshots Title</label>
								<label class="toggle-switch">
									<input type="checkbox" id="showScreenshotsTitle">
									<span class="toggle-slider"></span>
								</label>
							</div>
							<p class="option-description">Show/hide the "Screenshots Gallery" title</p>
						</div>
                    </div>
                </div>
                
                <!-- Logo Section -->
                <div class="mb-8 p-6 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600">
                    <h2 class="text-xl font-semibold mb-4 flex items-center">
                        <i class="fas fa-image text-primary-500 mr-2"></i>Logo Section
                    </h2>
                    
                    <div class="mb-4">
                        <label class="block text-sm font-medium mb-2">Logo URL</label>
                        <input type="text" id="logoUrl" class="w-full p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md" 
                            placeholder="https://i.ibb.co/TqnQFmM2/Silent-Rogue.png">
                    </div>
                    
                    <div class="mt-4">
                        <label class="block text-sm font-medium mb-2">Logo Width: <span id="logoWidthValue">450</span>px</label>
                        <input type="range" id="logoWidth" class="slider w-full" min="200" max="800" value="450">
                    </div>
                </div>
                
                <!-- Extra Title & Description Section -->
                <div id="extraTitleSection" class="mb-8 p-6 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 hidden">
                    <h2 class="text-xl font-semibold mb-4 flex items-center">
                        <i class="fas fa-star text-primary-500 mr-2"></i>Extra Title & Description
                    </h2>
                    
                    <div class="mb-4">
                        <label class="block text-sm font-medium mb-2">Extra Title</label>
                        <input type="text" id="extraTitleText" class="w-full p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md" 
                            placeholder="Enter extra title here">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2">Description</label>
                        <textarea id="extraDescription" rows="4" class="w-full p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md" 
                            placeholder="Enter description here..."></textarea>
                    </div>
                </div>
                
                <!-- Title Section -->
                <div class="mb-8 p-6 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600">
                    <h2 class="text-xl font-semibold mb-4 flex items-center">
                        <i class="fas fa-heading text-primary-500 mr-2"></i>Screenshots Title
                    </h2>
                    
                    <div class="mb-4">
                        <label class="block text-sm font-medium mb-2">Title Text</label>
                        <input type="text" id="titleText" class="w-full p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md" 
                            value="Screenshots Gallery" placeholder="Screenshots Gallery">
                    </div>
                    
                    <div class="mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md">
                        <p class="text-center font-bold text-lg">‚Äî‚Äì== üì∏ <span id="titlePreview">Screenshots Gallery</span> ==‚Äî‚Äì</p>
                    </div>
                </div>
                
                <!-- Images Section -->
                <div class="mb-8 p-6 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600">
                    <h2 class="text-xl font-semibold mb-4 flex items-center">
                        <i class="fas fa-images text-primary-500 mr-2"></i>Images Section
                    </h2>
                    
                    <div id="imageInputs" class="space-y-4 mb-4">
                        <div class="image-input p-4 border border-gray-200 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800">
                            <div class="flex flex-col md:flex-row gap-4">
                                <div class="flex-1">
                                    <label class="block text-sm font-medium mb-1">Image URL</label>
                                    <input type="text" class="imageUrl w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800" 
                                        placeholder="https://example.com/image.jpg">
                                </div>
                                <div class="flex items-end pb-1">
                                    <button class="removeImage p-2 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-sm font-medium mb-2">Image Width: <span id="imageWidthValue">450</span>px</label>
                        <input type="range" id="imageWidth" class="slider w-full" min="200" max="800" value="450">
                    </div>
                    
                    <div class="flex flex-wrap gap-4">
                        <button id="addImage" class="px-4 py-2 bg-primary-500 text-white rounded-md hover:bg-primary-600 transition-colors">
                            <i class="fas fa-plus mr-2"></i>Add New Image
                        </button>
                        <button id="bulkImport" class="px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors">
                            <i class="fas fa-file-import mr-2"></i>Bulk Import
                        </button>
                    </div>
                </div>
                
                <!-- EAC3 to Log Section -->
                <div class="mb-8 p-6 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600">
                    <h2 class="text-xl font-semibold mb-4 flex items-center">
                        <i class="fas fa-file-code text-primary-500 mr-2"></i>EAC3 To Log Section
                    </h2>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2">EAC3 To Log Content</label>
                        <textarea id="eac3Content" rows="6" class="w-full p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md font-mono" 
                            placeholder="Paste your EAC3 To log content here..."></textarea>
                    </div>
                </div>
                
                <!-- BDInfo Section -->
                <div class="mb-8 p-6 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600">
                    <h2 class="text-xl font-semibold mb-4 flex items-center">
                        <i class="fas fa-compact-disc text-primary-500 mr-2"></i>BDInfo Section
                    </h2>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2">BDInfo Content</label>
                        <textarea id="bdInfoContent" rows="6" class="w-full p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md font-mono" 
                            placeholder="Paste your BDInfo content here..."></textarea>
                    </div>
                </div>
                
                <!-- Sources Section -->
                <div class="mb-8 p-6 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600">
                    <h2 class="text-xl font-semibold mb-4 flex items-center">
                        <i class="fas fa-link text-primary-500 mr-2"></i>Sources Section
                    </h2>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2">Sources Content</label>
                        <textarea id="sourcesContent" rows="4" class="w-full p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md font-mono" 
                            placeholder="List your sources here..."></textarea>
                    </div>
                </div>
                
                <!-- Custom Sections Container -->
                <div id="customSections" class="hidden">
                    <!-- Custom sections will be added here -->
                    <div class="mb-8 p-6 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-xl font-semibold flex items-center">
                                <i class="fas fa-puzzle-piece text-primary-500 mr-2"></i>Custom Section 1
                            </h2>
                            <button class="removeCustomSection p-2 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-medium mb-2">Section Title</label>
                            <input type="text" class="customSectionTitle w-full p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md" 
                                placeholder="Enter section title" value="Custom Section 1">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2">Section Content</label>
                            <textarea class="customSectionContent w-full p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md" 
                                rows="4" placeholder="Enter your content here..."></textarea>
                        </div>
                    </div>
                    
                    <div class="mb-8 flex justify-center">
                        <button id="addCustomSection" class="px-6 py-2 bg-indigo-500 text-white rounded-md hover:bg-indigo-600 transition-colors">
                            <i class="fas fa-plus-circle mr-2"></i>Add Custom Section
                        </button>
                    </div>
                </div>
                
                <div class="flex justify-center">
                    <button id="generateBtn" class="px-8 py-3 bg-primary-600 text-white font-bold rounded-md hover:bg-primary-700 transition-colors">
                        <i class="fas fa-magic mr-2"></i>Generate BBCode
                    </button>
                </div>
            </div>
            
            <div class="tab-content p-6" id="bbcode-tab">
                <div class="flex justify-end mb-4">
                    <button id="copyBtn" class="px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">
                        <i class="fas fa-copy mr-2"></i>Copy to Clipboard
                    </button>
                </div>
                <div id="codeBlockContainer" class="code-block p-4 overflow-auto h-[600px]">
                    <pre id="bbcodeOutput" class="text-sm"></pre>
                </div>
            </div>
        </div>
        
        <div class="text-center text-sm text-gray-500 dark:text-gray-400">
            <p>BBCode Post Gen Pro &copy; <span id="currentYear"></span> | Created with <i class="fas fa-heart text-red-500"></i> by <a href="https://MannyHacker.t.me" target="_blank" class="text-primary-500 hover:underline">Manny</a></p>
        </div>
    </div>
    
    <!-- Bulk Import Modal -->
    <div id="bulkImportModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 max-w-2xl w-full mx-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-gray-800 dark:text-gray-200">Bulk Import Images</h3>
                <button id="closeModal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <p class="mb-4 text-gray-600 dark:text-gray-300">Paste one image URL per line or BBCode format:</p>
            
            <textarea id="bulkImportText" rows="10" class="w-full p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md mb-4" 
                placeholder="https://example.com/image1.jpg
https://example.com/image2.jpg
or BBCode format:
[url=https://ibb.co/GfkntpGp][img]https://i.ibb.co/mrtbXTdT/Flower-4.png[/img][/url]"></textarea>
            
            <div class="flex justify-end">
                <button id="importImages" class="px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors">
                    <i class="fas fa-file-import mr-2"></i>Import Images
                </button>
            </div>
        </div>
    </div>
    
    <!-- Pro Version Modal -->
    <div id="proVersionModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 max-w-4xl w-full mx-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-gray-800 dark:text-gray-200">
                    <i class="fas fa-crown text-yellow-400 mr-2"></i>Pro Version Features
                </h3>
                <button id="closeProModal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="mb-6">
                <p class="text-gray-600 dark:text-gray-300 mb-4">Current features available in BBCode Post Gen Pro:</p>
                
                <div class="space-y-4">
                    <ul class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2 text-gray-600 dark:text-gray-300">
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                            <span>Logo section with custom URL and width</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                            <span>Screenshots title section with customizable text</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                            <span>Multiple image uploads with custom width</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                            <span>EAC3 To Log section</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                            <span>BDInfo section</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                            <span>Sources section</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                            <span>Custom sections with titles</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                            <span>Bulk image import</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                            <span>BBCode formatting options (center, spoiler)</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                            <span>Light/Dark/System theme options</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="flex justify-center">
                <button class="px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-md hover:from-purple-700 hover:to-indigo-700 transition-colors">
                    <i class="fas fa-crown text-yellow-300 mr-2"></i>Upgrade to Pro
                </button>
            </div>
        </div>
    </div>

    <script>
		document.addEventListener('DOMContentLoaded', function() {
			// Set current year in footer
			document.getElementById('currentYear').textContent = new Date().getFullYear();
			
			// Theme Toggle with System Default
			const themeSelect = document.getElementById('themeSelect');
			const htmlElement = document.documentElement;
			const codeBlockContainer = document.getElementById('codeBlockContainer');
			
			// Function to set theme based on selection
			function setTheme(theme) {
				if (theme === 'dark') {
					htmlElement.classList.add('dark');
					codeBlockContainer.classList.remove('light-mode-code');
					localStorage.setItem('theme', 'dark');
				} else if (theme === 'light') {
					htmlElement.classList.remove('dark');
					codeBlockContainer.classList.add('light-mode-code');
					localStorage.setItem('theme', 'light');
				} else {
					// System default
					localStorage.removeItem('theme');
					if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
						htmlElement.classList.add('dark');
						codeBlockContainer.classList.remove('light-mode-code');
					} else {
						htmlElement.classList.remove('dark');
						codeBlockContainer.classList.add('light-mode-code');
					}
				}
			}
			
			// Check for saved theme preference or use system preference
			const savedTheme = localStorage.getItem('theme');
			if (savedTheme) {
				themeSelect.value = savedTheme;
				setTheme(savedTheme);
			} else {
				themeSelect.value = 'system';
				setTheme('system');
			}
			
			// Listen for theme changes
			themeSelect.addEventListener('change', function() {
				setTheme(this.value);
			});
			
			// Listen for system theme changes
			window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function() {
				if (themeSelect.value === 'system') {
					setTheme('system');
				}
			});
			
			// Tab Navigation
			const tabBtns = document.querySelectorAll('.tab-btn');
			const tabContents = document.querySelectorAll('.tab-content');
			
			tabBtns.forEach(btn => {
				btn.addEventListener('click', function() {
					const tabId = this.getAttribute('data-tab');
					
					tabBtns.forEach(btn => {
						btn.classList.remove('border-b-2', 'border-primary-500', 'text-primary-600', 'dark:text-primary-400');
						btn.classList.add('text-gray-500', 'dark:text-gray-400', 'hover:text-primary-600', 'dark:hover:text-primary-400');
					});
					
					tabContents.forEach(content => {
						content.classList.remove('active');
					});
					
					this.classList.add('border-b-2', 'border-primary-500', 'text-primary-600', 'dark:text-primary-400');
					this.classList.remove('text-gray-500', 'dark:text-gray-400', 'hover:text-primary-600', 'dark:hover:text-primary-400');
					
					document.getElementById(`${tabId}-tab`).classList.add('active');
				});
			});
			
			// Logo Width Slider
			const logoWidth = document.getElementById('logoWidth');
			const logoWidthValue = document.getElementById('logoWidthValue');
			
			logoWidth.addEventListener('input', function() {
				const width = this.value;
				logoWidthValue.textContent = width;
			});
			
			// Image Width Slider
			const imageWidth = document.getElementById('imageWidth');
			const imageWidthValue = document.getElementById('imageWidthValue');
			
			imageWidth.addEventListener('input', function() {
				imageWidthValue.textContent = this.value;
			});
			
			// Title Text Preview
			const titleText = document.getElementById('titleText');
			const titlePreview = document.getElementById('titlePreview');
			
			titleText.addEventListener('input', function() {
				titlePreview.textContent = this.value;
			});
			
			// Logo URL and Default Logo Toggle
			const logoUrl = document.getElementById('logoUrl');
			const useDefaultLogo = document.getElementById('useDefaultLogo');
			const defaultLogoUrl = 'https://i.ibb.co/TqnQFmM2/Silent-Rogue.png';
			
			useDefaultLogo.addEventListener('change', function() {
				if (this.checked) {
					logoUrl.value = defaultLogoUrl;
					logoUrl.disabled = true;
				} else {
					logoUrl.disabled = false;
					logoUrl.value = '';
				}
			});
			
			// Initialize logo URL
			if (useDefaultLogo.checked) {
				logoUrl.value = defaultLogoUrl;
				logoUrl.disabled = true;
			}
			
			// Center Content Toggles
			const centerAllContent = document.getElementById('centerAllContent');
			const centerOnlyHeader = document.getElementById('centerOnlyHeader');
			
			centerAllContent.addEventListener('change', function() {
				if (this.checked) {
					centerOnlyHeader.checked = false;
				}
			});
			
			centerOnlyHeader.addEventListener('change', function() {
				if (this.checked) {
					centerAllContent.checked = false;
				}
			});
			
			// Extra Title & Custom Sections Toggles
			const showExtraTitle = document.getElementById('showExtraTitle');
			const extraTitleSection = document.getElementById('extraTitleSection');
			const showCustomSections = document.getElementById('showCustomSections');
			const customSections = document.getElementById('customSections');
			
			showExtraTitle.addEventListener('change', function() {
				if (this.checked) {
					extraTitleSection.classList.remove('hidden');
				} else {
					extraTitleSection.classList.add('hidden');
				}
			});
			
			showCustomSections.addEventListener('change', function() {
				if (this.checked) {
					customSections.classList.remove('hidden');
				} else {
					customSections.classList.add('hidden');
				}
			});
			
			// Add Image Input
			const addImage = document.getElementById('addImage');
			const imageInputs = document.getElementById('imageInputs');
			
			addImage.addEventListener('click', function() {
				const imageInput = document.createElement('div');
				imageInput.className = 'image-input p-4 border border-gray-200 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800';
				imageInput.innerHTML = `
					<div class="flex flex-col md:flex-row gap-4">
						<div class="flex-1">
							<label class="block text-sm font-medium mb-1">Image URL</label>
							<input type="text" class="imageUrl w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800" 
								placeholder="https://example.com/image.jpg">
						</div>
						<div class="flex items-end pb-1">
							<button class="removeImage p-2 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300">
								<i class="fas fa-trash"></i>
							</button>
						</div>
					</div>
				`;
				imageInputs.appendChild(imageInput);
			});
			
			// Remove Image Input
			imageInputs.addEventListener('click', function(e) {
				if (e.target.closest('.removeImage')) {
					const imageInputs = document.querySelectorAll('.image-input');
					if (imageInputs.length > 1) {
						e.target.closest('.image-input').remove();
					} else {
						alert('You need at least one image input.');
					}
				}
			});
			
			// Add Custom Section
			const addCustomSection = document.getElementById('addCustomSection');
			const customSectionsContainer = document.getElementById('customSections');
			let customSectionCount = 1;
			
			addCustomSection.addEventListener('click', function() {
				customSectionCount++;
				const sectionId = `customSection${customSectionCount}`;
				const customSection = document.createElement('div');
				customSection.className = 'mb-8 p-6 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600';
				customSection.innerHTML = `
					<div class="flex justify-between items-center mb-4">
						<h2 class="text-xl font-semibold flex items-center">
							<i class="fas fa-puzzle-piece text-primary-500 mr-2"></i>Custom Section ${customSectionCount}
						</h2>
						<button class="removeCustomSection p-2 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300">
							<i class="fas fa-trash"></i>
						</button>
					</div>
					
					<div class="mb-4">
						<label class="block text-sm font-medium mb-2">Section Title</label>
						<input type="text" class="customSectionTitle w-full p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md" 
							placeholder="Enter section title" value="Custom Section ${customSectionCount}">
					</div>
					
					<div>
						<label class="block text-sm font-medium mb-2">Section Content</label>
						<textarea class="customSectionContent w-full p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md" 
							rows="4" placeholder="Enter your content here..."></textarea>
					</div>
				`;
				// Insert before the add button container
				customSectionsContainer.insertBefore(customSection, addCustomSection.parentElement);
			});
			
			// Remove Custom Section
			customSectionsContainer.addEventListener('click', function(e) {
				if (e.target.closest('.removeCustomSection')) {
					e.target.closest('.mb-8').remove();
				}
			});
			
			// Extract URLs from BBCode
			function extractUrlsFromBBCode(text) {
				const urls = [];
				
				// Match direct URLs
				const directUrlRegex = /^https?:\/\/\S+$/gm;
				
				// Match BBCode format: [URL=...][IMG]...[/IMG][/URL] (case insensitive)
				const bbcodeUrlRegex = /\[URL=[^\]]+\]\[IMG\]([^\]]+)\[\/IMG\]\[\/URL\]/gi;
				
				// Match HTML img format: <img src="...">
				const htmlImgRegex = /<img\s+src="([^"]+)"[^>]*>/g;
				
				// Match HTML figure format: <figure><img src="...">
				const htmlFigureRegex = /<figure><img\s+src="([^"]+)"[^>]*>/g;
				
				// Match Imgbox format: [URL=...][IMG]...[/IMG][/URL] (case insensitive)
				const imgboxRegex = /\[URL=[^\]]+\]\[IMG\]([^\]]+)\[\/IMG\]\[\/URL\]/gi;
				
				// Extract direct URLs
				let match;
				while ((match = directUrlRegex.exec(text)) !== null) {
					urls.push(match[0]);
				}
				
				// Extract URLs from BBCode
				let bbMatch;
				while ((bbMatch = bbcodeUrlRegex.exec(text)) !== null) {
					urls.push(bbMatch[1]); // Using image URL (first group)
				}
				
				// Extract URLs from HTML img tags
				let htmlMatch;
				while ((htmlMatch = htmlImgRegex.exec(text)) !== null) {
					urls.push(htmlMatch[1]);
				}
				
				// Extract URLs from HTML figure tags
				let figureMatch;
				while ((figureMatch = htmlFigureRegex.exec(text)) !== null) {
					urls.push(figureMatch[1]);
				}
				
				// Extract URLs from Imgbox format
				let imgboxMatch;
				while ((imgboxMatch = imgboxRegex.exec(text)) !== null) {
					urls.push(imgboxMatch[1]);
				}
				
				return urls.filter((url, index, self) => 
					url && self.indexOf(url) === index
				); // Remove duplicates
			}
			
			// Bulk Import Modal
			const bulkImport = document.getElementById('bulkImport');
			const bulkImportModal = document.getElementById('bulkImportModal');
			const closeModal = document.getElementById('closeModal');
			const importImages = document.getElementById('importImages');
			
			bulkImport.addEventListener('click', function() {
				bulkImportModal.classList.remove('hidden');
			});
			
			closeModal.addEventListener('click', function() {
				bulkImportModal.classList.add('hidden');
			});
			
            importImages.addEventListener('click', function() {
                const bulkText = document.getElementById('bulkImportText').value;
                const urls = extractUrlsFromBBCode(bulkText);
                
                if (urls.length === 0) {
                    alert('No valid URLs found. Please check your input.');
                    return;
                }
                
                // Clear existing image inputs except the first one
                const existingInputs = document.querySelectorAll('.image-input');
                for (let i = 1; i < existingInputs.length; i++) {
                    existingInputs[i].remove();
                }
                
                // Set the first URL to the existing input
                document.querySelector('.imageUrl').value = urls[0];
                
                // Add new inputs for the rest of the URLs
                for (let i = 1; i < urls.length; i++) {
                    const imageInput = document.createElement('div');
                    imageInput.className = 'image-input p-4 border border-gray-200 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800';
                    imageInput.innerHTML = `
                        <div class="flex flex-col md:flex-row gap-4">
                            <div class="flex-1">
                                <label class="block text-sm font-medium mb-1">Image URL</label>
                                <input type="text" class="imageUrl w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800" 
                                    value="${urls[i]}">
                            </div>
                            <div class="flex items-end pb-1">
                                <button class="removeImage p-2 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    `;
                    imageInputs.appendChild(imageInput);
                }
                
                bulkImportModal.classList.add('hidden');
			});
			
			// Pro Version Modal
			const proVersionBtn = document.getElementById('proVersionBtn');
			const proVersionModal = document.getElementById('proVersionModal');
			const closeProModal = document.getElementById('closeProModal');
			
			proVersionBtn.addEventListener('click', function() {
				proVersionModal.classList.remove('hidden');
			});
			
			closeProModal.addEventListener('click', function() {
				proVersionModal.classList.add('hidden');
			});
			
			// Close modals when clicking outside
			window.addEventListener('click', function(e) {
				if (e.target === bulkImportModal) {
					bulkImportModal.classList.add('hidden');
				}
				if (e.target === proVersionModal) {
					proVersionModal.classList.add('hidden');
				}
			});
			
			// Generate BBCode
			const generateBtn = document.getElementById('generateBtn');
			const bbcodeOutput = document.getElementById('bbcodeOutput');
			
			generateBtn.addEventListener('click', function() {
				const logoUrl = document.getElementById('logoUrl').value;
				const logoWidth = document.getElementById('logoWidth').value;
				const titleText = document.getElementById('titleText').value;
				const useSpoilerTags = document.getElementById('useSpoilerTags').checked;
				const centerAllContent = document.getElementById('centerAllContent').checked;
				const centerOnlyHeader = document.getElementById('centerOnlyHeader').checked;
				const showExtraTitle = document.getElementById('showExtraTitle').checked;
				const extraTitleText = document.getElementById('extraTitleText').value;
				const extraDescription = document.getElementById('extraDescription').value;
				const imageWidth = document.getElementById('imageWidth').value;
				const eac3Content = document.getElementById('eac3Content').value;
				const bdInfoContent = document.getElementById('bdInfoContent').value;
				const sourcesContent = document.getElementById('sourcesContent').value;
				const showSeparatorLines = document.getElementById('showSeparatorLines').checked;
				const multiColorHeading = document.getElementById('multiColorHeading').checked;
				const showScreenshotsTitle = document.getElementById('showScreenshotsTitle').checked;
				
				let bbcode = '';
				
				// Process title text to handle multi-word titles
				let titleParts = titleText.split(' ');
				let formattedTitle;
				
				if (titleParts.length > 1) {
					// If there are multiple words, make first word yellow and rest red
					formattedTitle = `[color=#FBBC05]${titleParts[0]}[/color] [color=#EA4335]${titleParts.slice(1).join(' ')}[/color]`;
				} else {
					// If single word, keep it yellow
					formattedTitle = `[color=#FBBC05]${titleText}[/color]`;
				}
				
				// Center all content if selected
				if (centerAllContent) {
					bbcode += '[center]\n';
				}
				
				// Logo section
				if (logoUrl) {
					if (centerOnlyHeader && !centerAllContent) {
						bbcode += '[center]\n';
					}
					bbcode += `[img width=${logoWidth}]${logoUrl}[/img]\n\n`;
					if (centerOnlyHeader && !centerAllContent) {
						bbcode += '[/center]\n';
					}
				}
				
				// Extra Title & Description section
				if (showExtraTitle && (extraTitleText || extraDescription)) {
					if (centerOnlyHeader && !centerAllContent) {
						bbcode += '[center]\n';
					}
					bbcode += `[size=18][b][color=#4285F4]${extraTitleText}[/color][/b][/size]\n`;
					if (centerOnlyHeader && !centerAllContent) {
						bbcode += '[/center]\n';
					}
					
					if (centerOnlyHeader && !centerAllContent) {
						bbcode += '[center]\n';
					}
					bbcode += `\n${extraDescription}\n\n`;
					if (showSeparatorLines) {
						bbcode += '[b]‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ[/b]\n\n';
					}
					if (centerOnlyHeader && !centerAllContent) {
						bbcode += '[/center]\n';
					}
				}
				
				// Title section (only if enabled)
				if (showScreenshotsTitle) {
					if (centerOnlyHeader && !centerAllContent) {
						bbcode += '[center]\n';
					}
					bbcode += `[size=20][b][color=#4285F4]‚Äî‚Äì==[/color][color=#EA4335]üì∏[/color] ${formattedTitle} [color=#34A853]==‚Äî‚Äì[/color][/b][/size]\n\n`;
					if (centerOnlyHeader && !centerAllContent) {
						bbcode += '[/center]\n';
					}
				}
				
				// Images section
				const imageInputs = document.querySelectorAll('.image-input');
				imageInputs.forEach(input => {
					const imageUrl = input.querySelector('.imageUrl').value;
					
					if (imageUrl) {
						if (centerOnlyHeader && !centerAllContent) {
							bbcode += '[center]\n';
						}
						bbcode += `[url=${imageUrl}][img width=${imageWidth}]${imageUrl}[/img][/url]\n\n`;
						if (centerOnlyHeader && !centerAllContent) {
							bbcode += '[/center]\n';
						}
					}
				});
				
				// Separator
				if (showSeparatorLines) {
					if (centerOnlyHeader && !centerAllContent) {
						bbcode += '[center]\n';
					}
					bbcode += '[b]‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ[/b]\n\n';
					if (centerOnlyHeader && !centerAllContent) {
						bbcode += '[/center]\n';
					}
				}
				
                // EAC3 to Log section
                if (eac3Content) {
                    // Section title - conditionally centered
                    if (centerHeadingsSeparators) bbcode += '[center]\n';
                    if (multiColorHeading) {
                        bbcode += '[size=20][i][b][color=#FFA500]EAC3 To Log[/color][/b][/i][/size]\n';
                    } else {
                        bbcode += '[size=20][i][b][color=#4285F4]E[/color][color=#EA4335]ac[/color][color=#FBBC05]3[/color][color=#34A853] To[/color][color=#4285F4] Log[/color][/b][/i][/size]\n';
                    }
                    if (centerHeadingsSeparators) bbcode += '[/center]\n\n';
                    
                    // Add spoiler tags if enabled
                    if (useSpoilerTags) bbcode += '[spoiler]\n';
                    
                    // Code content - left aligned (not affected by centerHeadingsSeparators)
                    bbcode += `[code][b][i]${eac3Content}[/i][/b][/code]\n\n`;
                    
                    if (useSpoilerTags) bbcode += '[/spoiler]\n\n';
                    
                    // Separator - conditionally centered
                    if (showSeparatorLines) {
                        if (centerHeadingsSeparators) bbcode += '[center]\n';
                        bbcode += '[b]‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ[/b]\n';
                        if (centerHeadingsSeparators) bbcode += '[/center]\n';
                        bbcode += '\n';
                    }
                }

                // BDInfo section
                if (bdInfoContent) {
                    // Section title - conditionally centered
                    if (centerHeadingsSeparators) bbcode += '[center]\n';
                    if (multiColorHeading) {
                        bbcode += '[size=20][i][b][color=#8ac926]BDInfo Log[/color][/b][/i][/size]\n';
                    } else {
                        bbcode += '[size=20][i][b][color=#4285F4]BD[/color][color=#EA4335]In[/color][color=#FBBC05]fo[/color][color=#34A853] Log[/color][/b][/i][/size]\n';
                    }
                    if (centerHeadingsSeparators) bbcode += '[/center]\n\n';
                    
                    // Add spoiler tags if enabled
                    if (useSpoilerTags) bbcode += '[spoiler]\n';
                    
                    // Code content - left aligned
                    bbcode += `[code][b][i]${bdInfoContent}[/i][/b][/code]\n\n`;
                    
                    if (useSpoilerTags) bbcode += '[/spoiler]\n\n';
                    
                    // Separator - conditionally centered
                    if (showSeparatorLines) {
                        if (centerHeadingsSeparators) bbcode += '[center]\n';
                        bbcode += '[b]‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ[/b]\n';
                        if (centerHeadingsSeparators) bbcode += '[/center]\n';
                        bbcode += '\n';
                    }
                }

                // Sources section
                if (sourcesContent) {
                    // Section title - conditionally centered
                    if (centerHeadingsSeparators) bbcode += '[center]\n';
                    if (multiColorHeading) {
                        bbcode += '[size=20][i][b][color=#00a4fe]Sources[/color][/b][/i][/size]\n';
                    } else {
                        bbcode += '[size=20][i][b][color=#4285F4]So[/color][color=#EA4335]ur[/color][color=#FBBC05]ce[/color][color=#34A853]s[/color][/b][/i][/size]\n';
                    }
                    if (centerHeadingsSeparators) bbcode += '[/center]\n\n';
                    
                    // Add spoiler tags if enabled
                    if (useSpoilerTags) bbcode += '[spoiler]\n';
                    
                    // Code content - left aligned
                    bbcode += `[code][b][i]${sourcesContent}[/i][/b][/code]\n\n`;
                    
                    if (useSpoilerTags) bbcode += '[/spoiler]\n\n';
                    
                    // Separator - conditionally centered
                    if (showSeparatorLines) {
                        if (centerHeadingsSeparators) bbcode += '[center]\n';
                        bbcode += '[b]‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ[/b]\n';
                        if (centerHeadingsSeparators) bbcode += '[/center]\n';
                        bbcode += '\n';
                    }
                }

                // Custom sections
                if (showCustomSections) {
                    const customSectionElements = document.querySelectorAll('#customSections > div:not(:last-child)');
                    customSectionElements.forEach(section => {
                        const sectionTitle = section.querySelector('.customSectionTitle')?.value;
                        const sectionContent = section.querySelector('.customSectionContent')?.value;
                        
                        if (sectionTitle && sectionContent) {
                            // Section title - conditionally centered
                            if (centerHeadingsSeparators) bbcode += '[center]\n';
                            if (multiColorHeading) {
                                bbcode += `[size=20][i][b][color=#EA4335]${sectionTitle}[/color][/b][/i][/size]\n`;
                            } else {
                                bbcode += `[size=20][i][b][color=#4285F4]${sectionTitle.substring(0, 2)}[/color][color=#EA4335]${sectionTitle.substring(2, 4)}[/color][color=#FBBC05]${sectionTitle.substring(4, 6) || ''}[/color][color=#34A853]${sectionTitle.substring(6) || ''}[/color][/b][/i][/size]\n`;
                            }
                            if (centerHeadingsSeparators) bbcode += '[/center]\n\n';
                            
                            // Add spoiler tags if enabled
                            if (useSpoilerTags) bbcode += '[spoiler]\n';
                            
                            // Code content - left aligned
                            bbcode += `[code][b][i]${sectionContent}[/i][/b][/code]\n\n`;
                            
                            if (useSpoilerTags) bbcode += '[/spoiler]\n\n';
                            
                            // Separator - conditionally centered
                            if (showSeparatorLines) {
                                if (centerHeadingsSeparators) bbcode += '[center]\n';
                                bbcode += '[b]‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ[/b]\n';
                                if (centerHeadingsSeparators) bbcode += '[/center]\n';
                                bbcode += '\n';
                            }
                        }
                    });
                }
				
				// Display the generated BBCode
				bbcodeOutput.textContent = bbcode;
				
				// Switch to BBCode tab
				document.querySelector('[data-tab="bbcode"]').click();
			});
			
			// Copy to clipboard
			const copyBtn = document.getElementById('copyBtn');
			
			copyBtn.addEventListener('click', function() {
				const bbcode = bbcodeOutput.textContent;
				
				navigator.clipboard.writeText(bbcode).then(() => {
					// Update button text to show success
					copyBtn.innerHTML = '<i class="fas fa-check mr-2"></i>Copied!';
					setTimeout(() => {
						copyBtn.innerHTML = '<i class="fas fa-copy mr-2"></i>Copy to Clipboard';
					}, 2000);
				}).catch(err => {
					console.error('Could not copy text: ', err);
					
					// Fallback method
					const textarea = document.createElement('textarea');
					textarea.value = bbcode;
					textarea.setAttribute('readonly', '');
					textarea.style.position = 'absolute';
					textarea.style.left = '-9999px';
					document.body.appendChild(textarea);
					
					textarea.select();
					document.execCommand('copy');
					
					document.body.removeChild(textarea);
					
					copyBtn.innerHTML = '<i class="fas fa-check mr-2"></i>Copied!';
					setTimeout(() => {
						copyBtn.innerHTML = '<i class="fas fa-copy mr-2"></i>Copy to Clipboard';
					}, 2000);
				});
			});
			
			// Initialize with one image input
			if (document.querySelectorAll('.image-input').length === 0) {
				addImage.click();
			}
		});
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'942d1bceb67f85c9',t:'MTc0Nzc1NzQ3My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
